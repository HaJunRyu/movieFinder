(this["webpackJsonpmovie-list-practice"]=this["webpackJsonpmovie-list-practice"]||[]).push([[0],{249:function(e,t,n){},460:function(e,t,n){},461:function(e,t,n){},468:function(e,t,n){"use strict";n.r(t);n(261),n(271);var r=n(0),a=n.n(r),c=n(72),i=(n(459),n(460),n(461),n(48)),s=n.n(i),o=n(92),l=n(75),u=n(483),m=n(484),f=n(49),v="https://yts.mx/api/v2/list_movies.json",p={fetchMovieList:function(){return Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"?limit=").concat(20));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))()},searchMovies:function(e,t){return Object(o.a)(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(v,"?limit=").concat(20,"&query_term=").concat(e,"&page=").concat(t));case 2:return r=n.sent,n.next=5,r.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}},d=n(249),j=n(16);function b(e){var t=e.className,n=e.children;return Object(j.jsx)("ul",{className:"".concat(t," ").concat(d.list),children:n})}b.Item=function(e){var t=e.className,n=e.children;return Object(j.jsx)("li",{className:t,children:n})};var h=n(147);function O(e){var t=e.level,n=e.children,r=Object(h.a)(e,["level","children"]);return a.a.createElement("h".concat(t),r,n)}var g=n(93);function x(e){var t=e.className,n=e.children,r=Object(h.a)(e,["className","children"]);return Object(j.jsx)("button",Object(g.a)(Object(g.a)({className:t},r),{},{children:n}))}var y=n(132),_=n(0).useReducer;function w(e,t){return Object(g.a)(Object(g.a)({},e),{},Object(y.a)({},t.name,t.value))}var E=function(e){var t=_(w,e),n=Object(l.a)(t,2),r=n[0],a=n[1];return[r,function(e){var t=e.target;a(t)}]};function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var k=r.createElement("g",{transform:"translate(50 50)"},r.createElement("g",{transform:"scale(0.7)"},r.createElement("g",{transform:"translate(-50 -50)"},r.createElement("g",null,r.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"0.7575757575757576s"}),r.createElement("path",{fillOpacity:.8,fill:"#e15b64",d:"M50 50L50 0A50 50 0 0 1 100 50Z"})),r.createElement("g",null,r.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1.0101010101010102s"}),r.createElement("path",{fillOpacity:.8,fill:"#f47e60",d:"M50 50L50 0A50 50 0 0 1 100 50Z",transform:"rotate(90 50 50)"})),r.createElement("g",null,r.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1.5151515151515151s"}),r.createElement("path",{fillOpacity:.8,fill:"#f8b26a",d:"M50 50L50 0A50 50 0 0 1 100 50Z",transform:"rotate(180 50 50)"})),r.createElement("g",null,r.createElement("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"3.0303030303030303s"}),r.createElement("path",{fillOpacity:.8,fill:"#abbd81",d:"M50 50L50 0A50 50 0 0 1 100 50Z",transform:"rotate(270 50 50)"})))));function N(e,t){var n=e.title,a=e.titleId,c=M(e,["title","titleId"]);return r.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"transparent",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,k)}var I=r.forwardRef(N);n.p;function C(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=E({movieSearchInput:""}),i=Object(l.a)(c,2),v=i[0],d=i[1],h=v.movieSearchInput,g=Object(r.useState)(1),y=Object(l.a)(g,2),_=y[0],w=(y[1],Object(r.useState)(!0)),L=Object(l.a)(w,2),M=L[0],k=L[1],N=Object(r.useRef)(null),C=function(){var e=Object(o.a)(s.a.mark((function e(t){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),t.preventDefault(),e.next=4,p.searchMovies(h,_);case 4:"ok"===(n=e.sent).status?(n.data.movie_count?(r=n.data.movies,(c=document.createElement("img")).src=r[0].medium_cover_image,c.onload=function(){a(r)}):a([]),N.current.focus()):console.log("request error"),k(!1),h="";case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(o.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.fetchMovieList();case 2:"ok"===(t=e.sent).status?(n=t.data.movies,(r=document.createElement("img")).src=n[0].medium_cover_image,r.onload=function(){a(n),k(!1)}):console.log("request error");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(j.jsxs)("div",{className:f.movieListPage,children:[Object(j.jsx)(O,{level:"1",children:"Movie Finder"}),Object(j.jsxs)("form",{onSubmit:C,children:[Object(j.jsx)(u.a,{name:"movieSearchInput",value:h,"aria-label":"find movie form",className:f.searchInput,onChange:d,ref:N}),Object(j.jsx)(x,{className:f.searchButton,children:"Search"})]}),Object(j.jsx)(b,{className:f.movieList,children:n.length?n.map((function(e){return Object(j.jsxs)(b.Item,{className:f.movieItem,children:[Object(j.jsx)("img",{className:f.coverImage,src:e.medium_cover_image,alt:e.title}),Object(j.jsxs)("div",{className:f.movieContentContainer,children:[Object(j.jsx)(O,{level:"2",children:e.title_long}),Object(j.jsx)("p",{className:f.movieContent,children:e.summary?e.summary:"this movie has no summary \ud83d\ude25"})]})]},e.id)})):M?null:Object(j.jsxs)(m.a,{negative:!0,style:{marginTop:30},children:[Object(j.jsx)(m.a.Header,{children:"could not found matching result!"}),Object(j.jsx)("p",{children:"please refine your search."})]})}),M?Object(j.jsx)(I,{className:f.loadingSpinner}):null]})}var S=function(){return Object(j.jsx)(C,{})};Object(c.render)(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root"))},49:function(e,t,n){e.exports={movieListPage:"MovieList_movieListPage__OVfqQ",searchInput:"MovieList_searchInput__1oFZd",searchButton:"MovieList_searchButton__5ILgO",movieList:"MovieList_movieList__2kxdI",movieItem:"MovieList_movieItem__1i-OM",movieContentContainer:"MovieList_movieContentContainer__2k_s4",movieContent:"MovieList_movieContent__1A5Ik",loadingSpinner:"MovieList_loadingSpinner__1y8gy"}}},[[468,1,2]]]);
//# sourceMappingURL=main.7163beaa.chunk.js.map